<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Championship Tennis</title>
    <meta name="description" content="Mobile-first tennis game with realistic serve mechanics, scoring, and AI opponent." />
    <meta name="theme-color" content="#1a1a2e" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Championship Tennis" />
    <meta property="og:description" content="Mobile-first tennis game with realistic serve mechanics, scoring, and AI opponent." />
    <meta property="og:image" content="https://championship-tennis.vercel.app/court.jpg" />
    <meta property="og:url" content="https://championship-tennis.vercel.app/" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://championship-tennis.vercel.app/" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Championship Tennis" />
    <meta name="twitter:description" content="Mobile-first tennis game with realistic serve mechanics, scoring, and AI opponent." />
    <meta name="twitter:image" content="https://championship-tennis.vercel.app/court.jpg" />

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "Championship Tennis",
      "description": "Mobile-first tennis game with realistic serve mechanics, scoring, and AI opponent.",
      "url": "https://championship-tennis.vercel.app",
      "genre": "Sports",
      "gamePlatform": "Web Browser",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>

    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;600;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;600;800&display=swap"></noscript>
    <link rel="preload" href="court.webp" as="image">
    <style>
        *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
        /* Sharp edges on all UI elements */
        .screen,.player-card,.level-badge,.skill-bar,.skill-fill,.currency-item,.currency-icon,.stat-item,.difficulty-btn,.menu-btn,.play-button,.skip-btn,.player-info,.match-timer,.serve-indicator,.rewards-container,.continue-btn,.trophy-header,.trophy-card,.achievement-popup,.challenge-banner,.challenge-streak-badge,.challenge-bar,.challenge-fill,.progress-toast,.char-grid,.char-header,.char-card,.char-detail,.shop-header,.shop-tab,.shop-item,.buy-btn,.equip-btn,.equipped-badge,.tutorial-content,.tutorial-btn,.back-btn,.hit-zone,.streak-display,.streak-day,.swipe-hint,.net-rush-indicator,.gem-multiplier,.power-bar,.service-box,.serve-timing-track,.serve-timing-cursor,.serve-power-track,.combo-text,.call-overlay,.court-change,.match-results,.reward-item,.price-tag,.item-stat,.stat-bar,.stat-fill{border-radius:0!important}
        body{font-family:'Inter',sans-serif;background:linear-gradient(135deg,#1a1a2e,#0f0f1e);min-height:100vh;overflow:hidden;overscroll-behavior:none;width:100%}
        .screen{position:fixed;inset:0;display:none;flex-direction:column;z-index:100;overflow-y:auto;-webkit-overflow-scrolling:touch}
        .screen.active{display:flex}
        .loading-screen{background:#000;justify-content:center;align-items:center;z-index:10000;overflow:hidden}
        .hero-image{position:relative;width:64vw;height:57vh;margin-bottom:15px;display:flex;justify-content:center;align-items:center}
        .hero-player{position:absolute;width:100%;height:100%;opacity:0;animation:slideInPlayer 0.6s ease-out 0.8s forwards;image-rendering:pixelated;clip-path:inset(0 20% 0 0);object-fit:contain}
        .hero-ball{position:absolute;width:100%;height:100%;opacity:0;animation:slideInBall 1.4s ease-in-out forwards;image-rendering:pixelated;clip-path:inset(0 0 0 80%);object-fit:contain}
        @keyframes slideInPlayer{0%{opacity:0;transform:translateX(-100vw)}100%{opacity:1;transform:translateX(0)}}
        @keyframes slideInBall{0%{opacity:0;transform:translateX(100vw)}100%{opacity:1;transform:translateX(0)}}
        .lcp-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,12vw,72px);color:#bb86fc;letter-spacing:6px;text-align:center;position:absolute;top:38%;left:50%;transform:translate(-50%,-50%);z-index:0}
        .loading-content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;animation:fadeInContent 0.8s ease-out 1.4s forwards;opacity:0;margin-top:-70px}
        @keyframes fadeInContent{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}
        .loading-logo{font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,12vw,72px);background:linear-gradient(135deg,#9b59b6,#bb86fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:6px}
        .loading-subtitle{color:rgba(255,255,255,0.5);font-size:13px;letter-spacing:5px;text-transform:uppercase;margin-bottom:50px}
        .play-button{padding:18px 70px;background:#fff;border:none;border-radius:0;color:#1a1a2e;font-size:15px;font-weight:700;letter-spacing:3px;text-transform:uppercase;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.3);transition:transform 0.2s,box-shadow 0.2s}
        .play-button:hover{transform:scale(1.05);box-shadow:0 15px 40px rgba(0,0,0,0.4)}
        .main-menu{background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);justify-content:space-between;padding:calc(15px + env(safe-area-inset-top, 0px)) 15px calc(15px + env(safe-area-inset-bottom, 0px));overflow-y:auto;touch-action:pan-y;-webkit-overflow-scrolling:touch}
        .game-logo{font-family:'Bebas Neue',sans-serif;font-size:clamp(42px,11vw,64px);color:#ffd700;text-align:center;letter-spacing:4px;text-shadow:3px 3px 0 #000}
        .tagline{font-size:11px;letter-spacing:3px;text-transform:uppercase;color:rgba(255,215,0,0.6);text-align:center}
        .player-card{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:3px solid;border-color:#6a8aba #2a3a5a #2a3a5a #6a8aba;border-radius:0;padding:12px;margin:10px 0;box-shadow:3px 3px 0 rgba(0,0,0,0.4)}
        .player-level{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
        .level-badge{background:linear-gradient(180deg,#ffd700 0%,#cc9900 100%);padding:5px 12px;border:2px solid;border-color:#ffed4e #886600 #886600 #ffed4e;border-radius:0;font-size:11px;font-weight:700;color:#000}
        .skill-progress{margin-bottom:15px}
        .skill-label{font-size:9px;color:rgba(255,215,0,0.8);margin-bottom:6px;text-align:center}
        .skill-bar{height:8px;background:rgba(0,0,0,0.3);border-radius:0;overflow:hidden}
        .skill-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);width:0%;transition:width 0.3s}
        .currency-display{display:flex;gap:15px}
        .game-court{will-change:transform;contain:layout style paint}
        .court{will-change:transform;contain:layout style paint}
        canvas{will-change:transform;contain:layout style paint}
        .currency-item{display:flex;align-items:center;gap:8px;background:rgba(0,0,0,0.3);padding:6px 12px;border-radius:0}
        .currency-icon{width:24px;height:24px;border-radius:0;display:flex;align-items:center;justify-content:center;font-size:14px}
        .coins{background:linear-gradient(135deg,#ffd700,#ffed4e)}
        .gems{background:linear-gradient(135deg,#e74c3c,#c0392b)}
        .currency-amount{font-family:'Bebas Neue',sans-serif;font-size:24px;color:#fff}
        .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
        .stat-item{text-align:center;background:rgba(0,0,0,0.3);padding:8px 4px;border-radius:0}
        .stat-label{font-size:8px;text-transform:uppercase;color:rgba(255,215,0,0.6)}
        .stat-value{font-family:'Bebas Neue',sans-serif;font-size:20px;background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .difficulty-section{margin:10px 0}
        .difficulty-title{text-align:center;color:rgba(255,215,0,0.8);font-size:11px;text-transform:uppercase;letter-spacing:2px;margin-bottom:10px}
        .difficulty-buttons{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
        .difficulty-btn{padding:12px 8px;border:2px solid rgba(255,255,255,0.2);border-radius:0;background:rgba(255,255,255,0.05);color:#fff;font-size:10px;font-weight:600;text-transform:uppercase;cursor:pointer}
        .difficulty-btn.selected{border-color:#ffd700;background:rgba(255,215,0,0.15)}
        .diff-rookie{border-color:#4caf50}
        .diff-pro{border-color:#ff9800}
        .diff-legend{border-color:#f44336}
        .difficulty-reward{display:block;font-size:8px;color:rgba(255,255,255,0.6);margin-top:3px}
        .menu-buttons{display:flex;flex-direction:column;gap:12px}
        .menu-btn{padding:14px 20px;background:linear-gradient(180deg,#4a5a7a 0%,#3a4a6a 50%,#2a3a5a 100%);border:3px solid;border-color:#6a8aba #2a3a5a #2a3a5a #6a8aba;border-radius:0;color:#fff;font-size:13px;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer;text-shadow:1px 1px 2px #000;box-shadow:3px 3px 0 rgba(0,0,0,0.4)}
        .menu-btn:active{transform:translate(2px,2px);box-shadow:1px 1px 0 rgba(0,0,0,0.4)}
        .menu-btn.primary{background:linear-gradient(180deg,#ffd700 0%,#cc9900 50%,#aa7700 100%);border-color:#ffed4e #886600 #886600 #ffed4e;color:#000;font-size:15px;padding:16px 24px;text-shadow:none}
        .video-intro{position:fixed;inset:0;background:#000;display:none;z-index:5000;justify-content:center;align-items:center;opacity:1;transition:opacity 0.5s ease}
        .video-intro.active{display:flex}
        .video-intro.fade-out{opacity:0}
        .skip-btn{position:absolute;bottom:30px;right:20px;padding:12px 24px;background:rgba(255,215,0,0.9);border:none;border-radius:0;color:#1a1a2e;font-weight:700;font-size:14px;cursor:pointer;z-index:5001}
        #videoPlayer{width:100vw;height:100vh;object-fit:cover}
        .game-hud{position:fixed;top:0;left:0;right:0;padding:calc(6px + env(safe-area-inset-top, 0px)) 90px 6px 10px;display:none;z-index:100;background:linear-gradient(to bottom,rgba(0,0,0,0.85),rgba(0,0,0,0.4),transparent)}
        .game-hud.active{display:block}
        .match-info{display:flex;justify-content:space-between;align-items:flex-start}
        .player-info{background:rgba(0,0,0,0.6);padding:8px 12px;border-radius:0;border:1px solid rgba(255,215,0,0.3);text-align:center;min-width:80px}
        .player-name{font-size:9px;text-transform:uppercase;color:rgba(255,215,0,0.8);letter-spacing:1px}
        .player-points{font-family:'Bebas Neue',sans-serif;font-size:36px;background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1}
        .player-games{font-size:10px;color:rgba(255,255,255,0.85);margin-top:3px;font-weight:600}
        .player-sets{font-size:10px;color:#4caf50;font-weight:700;margin-top:2px}
        .scoreboard-row{display:flex;align-items:center;gap:3px;justify-content:center;margin-top:2px}
        .set-score-box{width:18px;height:18px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.1);font-size:11px;font-weight:700;color:#fff;font-family:'Bebas Neue',sans-serif;border:1px solid rgba(255,255,255,0.15)}
        .set-score-box.current{border-color:rgba(255,215,0,0.5);color:#ffd700}
        .set-score-box.won{background:rgba(76,175,80,0.3);border-color:#4caf50;color:#4caf50}
        .match-center{display:flex;flex-direction:column;align-items:center;gap:4px}
        .match-timer{background:rgba(255,215,0,0.2);padding:6px 16px;border-radius:0;color:#fff;font-size:13px;font-weight:700}
        .rally-counter{font-size:9px;color:rgba(255,255,255,0.7);text-transform:uppercase}
        .serve-indicator{font-size:9px;color:#4caf50;font-weight:700;text-transform:uppercase;padding:3px 8px;background:rgba(76,175,80,0.2);border-radius:0}
        .serve-indicator.fault{color:#f44336;background:rgba(244,67,54,0.2)}
        .serve-speed{font-size:10px;color:#ffd700;font-weight:700;margin-top:2px}
        .tiebreak-indicator{font-size:8px;color:#ff9800;text-transform:uppercase;margin-top:2px}
        .game-court{position:fixed;inset:0;display:none;background:url('court.webp') center/cover no-repeat;background-color:#000}
        .game-court.active{display:block}
        .game-court.shake{animation:screenShake 0.15s ease-in-out}
        .game-court.micro-shake{animation:microShake 0.1s ease-in-out}
        .game-court.power-shake{animation:powerShake 0.2s ease-in-out}
        @keyframes screenShake{0%,100%{transform:translateX(0)}25%{transform:translateX(-3px)}50%{transform:translateX(3px)}75%{transform:translateX(-2px)}}
        @keyframes microShake{0%,100%{transform:translate(0,0)}25%{transform:translate(-1px,-1px)}50%{transform:translate(1px,1px)}75%{transform:translate(-1px,1px)}}
        @keyframes powerShake{0%,100%{transform:translate(0,0)}10%{transform:translate(-4px,-2px)}20%{transform:translate(4px,2px)}30%{transform:translate(-3px,3px)}40%{transform:translate(3px,-3px)}50%{transform:translate(-2px,2px)}60%{transform:translate(2px,-2px)}70%{transform:translate(-1px,1px)}80%{transform:translate(1px,-1px)}90%{transform:translate(-1px,-1px)}}
        .court{position:absolute;top:12%;left:8%;right:8%;bottom:12%;background:transparent;border:none;overflow:hidden}
        .court-lines{position:absolute;inset:0;display:none}
        .line{position:absolute;background:#fff;opacity:0.95}
        .sideline-left{left:12%;top:0;bottom:0;width:3px}
        .sideline-right{right:12%;top:0;bottom:0;width:3px}
        .baseline-top{top:6%;left:0;right:0;height:3px}
        .baseline-bottom{bottom:6%;left:0;right:0;height:3px}
        .service-top{top:28%;left:21%;right:22%;height:2px}
        .service-bottom{top:75%;left:21%;right:22%;height:2px}
        .center-service{left:50%;top:27%;bottom:27%;width:2px}
        .net{top:54%;left:-2%;right:-2%;height:6px;background:linear-gradient(to bottom,rgba(255,255,255,0.9),rgba(100,100,100,0.9));z-index:20;transform:translateY(-50%)}
        /* Service box highlighting */
        .service-box{position:absolute;border:3px solid transparent;border-radius:0;pointer-events:none;z-index:15;opacity:0;transition:opacity 0.3s}
        .service-box.opp-right{top:34%;bottom:40%;left:49.5%;right:16%}
        .service-box.opp-left{top:34%;bottom:40%;left:16%;right:50.5%}
        .service-box.player-right{top:62%;height:16%;left:49.5%;right:16%}
        .service-box.player-left{top:62%;height:16%;left:16%;right:50.5%}
        .service-box.active{opacity:1;border-color:rgba(76,255,80,0.25);background:rgba(76,255,80,0.04);animation:serviceBoxPulse 2s ease-in-out infinite}
        @keyframes serviceBoxPulse{0%,100%{border-color:rgba(76,255,80,0.15)}50%{border-color:rgba(76,255,80,0.3)}}
        /* Net cord effect */
        .net-cord{position:absolute;top:50%;left:-2%;right:-2%;height:6px;z-index:21;transform:translateY(-50%);pointer-events:none;opacity:0}
        .net-cord.active{animation:netCordFlash 0.4s ease-out}
        @keyframes netCordFlash{0%{opacity:1;box-shadow:0 0 20px rgba(255,215,0,0.8),0 0 40px rgba(255,215,0,0.5)}100%{opacity:0;box-shadow:none}}
        .ball{position:absolute;width:20px;height:20px;background:radial-gradient(circle at 30% 30%,#fcf836,#c9d11a);border-radius:50%;transform:translate(-50%,-50%);z-index:40;display:none;box-shadow:0 2px 4px rgba(0,0,0,0.4)}
        .ball.fast{box-shadow:0 2px 4px rgba(0,0,0,0.4),-8px 0 12px rgba(252,248,54,0.3)}
        .ball.active{display:block}
        .ball.glowing{box-shadow:0 0 12px rgba(76,255,80,0.6),0 0 24px rgba(76,255,80,0.2);animation:ballGlow 0.6s ease-in-out infinite}
        .ball.toss{animation:ballToss 0.6s ease-out}
        @keyframes ballToss{0%{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-150%) scale(1.2)}100%{transform:translate(-50%,-50%) scale(1)}}
        @keyframes ballGlow{0%,100%{transform:translate(-50%,-50%) scale(1.1)}50%{transform:translate(-50%,-50%) scale(1.25)}}
        @keyframes flashFade{0%{opacity:1}100%{opacity:0}}
        /* Enhanced ball trail effect */
        .ball-trail{position:absolute;width:12px;height:12px;background:radial-gradient(circle,rgba(252,248,54,0.7),rgba(252,248,54,0.1));border-radius:50%;transform:translate(-50%,-50%);z-index:38;pointer-events:none;opacity:0;transition:opacity 0.05s;filter:blur(1px)}
        .ball-trail.active{opacity:1;animation:trailFade 0.35s ease-out forwards}
        .ball-trail.power{width:16px;height:16px;background:radial-gradient(circle,rgba(255,100,50,0.8),rgba(255,200,50,0.2));filter:blur(2px)}
        @keyframes trailFade{0%{opacity:0.9;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-50%) scale(0.2)}}

        /* Swipe trail visualization */
        .swipe-trail{position:absolute;pointer-events:none;z-index:45;opacity:0}
        .swipe-trail.active{opacity:1;animation:swipeTrailFade 0.6s ease-out forwards}
        .swipe-trail-segment{position:absolute;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 4px rgba(76,255,80,0.4)}
        @keyframes swipeTrailFade{0%{opacity:1;filter:blur(0px)}100%{opacity:0;filter:blur(3px)}}
        /* Rally tension vignette */
        .rally-vignette{position:fixed;inset:0;pointer-events:none;z-index:90;opacity:0;transition:opacity 0.5s ease;background:radial-gradient(ellipse at center,transparent 50%,rgba(0,0,0,0.6) 100%)}
        .rally-vignette.active{opacity:1}
        /* Rally zoom */
        .game-court.rally-zoom{transition:transform 0.8s ease}
        /* Results screen animations */
        .match-results .results-title{animation:none}
        .match-results.active .results-title{animation:resultsTitlePop 0.8s cubic-bezier(0.34,1.56,0.64,1) forwards}
        .match-results.active .final-score{animation:resultsFadeUp 0.6s ease-out 0.3s both}
        .match-results.active .rewards-container{animation:resultsFadeUp 0.5s ease-out both}
        .match-results.active .rewards-container:nth-child(3){animation-delay:0.5s}
        .match-results.active .rewards-container:nth-child(4){animation-delay:0.7s}
        .match-results.active .rewards-container:nth-child(5){animation-delay:0.9s}
        .match-results.active .continue-btn{animation:resultsFadeUp 0.5s ease-out 1.1s both}
        .match-results.active .reward-value{animation:rewardCountUp 0.4s ease-out both}
        @keyframes resultsTitlePop{0%{opacity:0;transform:scale(0.3) rotate(-5deg)}60%{transform:scale(1.1) rotate(2deg)}100%{opacity:1;transform:scale(1) rotate(0deg)}}
        @keyframes resultsFadeUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}
        @keyframes rewardCountUp{0%{opacity:0;transform:scale(0.5)}50%{transform:scale(1.2)}100%{opacity:1;transform:scale(1)}}
        /* Tournament bracket */
        .bracket-round{margin-bottom:20px}
        .bracket-round-title{font-family:'Bebas Neue',sans-serif;font-size:18px;color:#ffd700;letter-spacing:3px;margin-bottom:10px;text-align:center}
        .bracket-match{background:rgba(255,255,255,0.05);border:2px solid rgba(255,255,255,0.1);padding:10px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
        .bracket-match.current{border-color:#ffd700;background:rgba(255,215,0,0.1)}
        .bracket-match.won{border-color:#4caf50;background:rgba(76,175,80,0.1)}
        .bracket-match.lost{border-color:#f44336;background:rgba(244,67,54,0.1);opacity:0.6}
        .bracket-player{font-size:13px;color:#fff;font-weight:600}
        .bracket-player.you{color:#ffd700}
        .bracket-player.winner{color:#4caf50}
        .bracket-vs{font-family:'Bebas Neue',sans-serif;font-size:14px;color:rgba(255,255,255,0.4);margin:0 10px}
        .bracket-score{font-family:'Bebas Neue',sans-serif;font-size:16px;color:rgba(255,255,255,0.6)}
        .tournament-trophy{text-align:center;padding:30px 0}
        .tournament-trophy-icon{font-family:'Bebas Neue',sans-serif;font-size:72px;color:#ffd700;text-shadow:0 0 30px rgba(255,215,0,0.5)}
        .tournament-trophy-text{font-family:'Bebas Neue',sans-serif;font-size:28px;color:#ffd700;letter-spacing:4px;margin-top:10px}
        /* Settings items */
        .settings-item{background:rgba(255,255,255,0.05);border:2px solid rgba(255,255,255,0.1);padding:14px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
        .settings-label{color:#fff;font-size:13px;font-weight:600}
        .settings-value{display:flex;gap:8px}
        .settings-option{padding:8px 16px;background:rgba(255,255,255,0.05);border:2px solid rgba(255,255,255,0.2);color:#fff;font-size:11px;font-weight:600;cursor:pointer;text-transform:uppercase}
        .settings-option.active{border-color:#ffd700;background:rgba(255,215,0,0.15);color:#ffd700}
        /* Victory confetti */
        .confetti-piece{position:fixed;width:10px;height:10px;z-index:2001;pointer-events:none;animation:confettiFall linear forwards}
        @keyframes confettiFall{0%{opacity:1;transform:translateY(0) rotate(0deg)}100%{opacity:0;transform:translateY(100vh) rotate(720deg)}}
        .ball-shadow{position:absolute;width:24px;height:8px;background:radial-gradient(ellipse at center,rgba(0,0,0,0.4),transparent 70%);border-radius:50%;transform:translate(-50%,0);z-index:25;display:none}
        .ball-shadow.active{display:block}
        .opponent{position:absolute;top:5%;left:50%;transform:translateX(-50%);width:80px;height:96px;display:flex;align-items:center;justify-content:center;z-index:30;transition:left 0.25s cubic-bezier(0.22,0.61,0.36,1)}
        .opponent.hitting{animation:opponentHit 0.3s ease}
        .opponent.windup{animation:opponentWindup 0.18s ease-out forwards}
        .opponent.lean-left{transform:translateX(-50%) skewX(6deg) scaleX(0.97)}
        .opponent.lean-right{transform:translateX(-50%) skewX(-6deg) scaleX(0.97)}
        @keyframes opponentWindup{0%{transform:translateX(-50%) scale(1)}100%{transform:translateX(-50%) scale(0.92) rotate(5deg) translateY(2px)}}
        @keyframes opponentHit{50%{transform:translateX(-50%) scale(1.2) rotate(-5deg)}}
        .player-paddle{position:absolute;bottom:5%;width:86px;height:104px;display:flex;align-items:center;justify-content:center;transform:translateX(-50%);z-index:35;transition:none}
        .net-rush-indicator{position:absolute;bottom:42%;left:50%;transform:translateX(-50%);padding:6px 14px;background:rgba(255,100,0,0.85);border-radius:0;color:#fff;font-size:11px;font-weight:700;text-transform:uppercase;opacity:0;pointer-events:none;z-index:45;transition:opacity 0.3s}
        .net-rush-indicator.active{opacity:1;animation:hintPulse 0.8s ease-in-out infinite}
        .player-paddle.can-hit{filter:drop-shadow(0 0 5px rgba(76,255,80,0.2));animation:none}
        .player-paddle.serving{filter:drop-shadow(0 0 10px rgba(255,215,0,0.4))}
        @keyframes paddleReady{0%,100%{transform:translateX(-50%) scale(1.05)}50%{transform:translateX(-50%) scale(1)}}
        .player-sprite{position:relative;width:80px;height:96px;overflow:hidden;image-rendering:pixelated;transform:scale(1);transition:transform 0.2s ease}
        .player-sprite.flipped{transform:scaleX(-1)}
        .player-paddle .player-sprite.near{transform:scale(1.13)!important}
        .player-paddle .player-sprite.near.flipped{transform:scale(-1.13,1.13)!important}
        .sprite-inner{width:80px;height:96px;background-size:640px 96px;background-repeat:no-repeat;background-position:0 0;overflow:hidden}
        .sprite-inner.playing-8{animation:playSprite8 0.5s steps(7) 1}
        .sprite-inner.playing-7{animation:playSprite7 0.5s steps(6) 1}
        .sprite-inner.playing-5{animation:playSprite5 0.5s steps(4) 1}
        .sprite-inner.playing-4{animation:playSprite4 0.4s steps(3) 1}
        .sprite-inner.cycling{animation:playSprite8 0.8s steps(7) infinite}
        @keyframes playSprite8{0%{background-position:0 0}100%{background-position:-560px 0}}
        @keyframes playSprite7{0%{background-position:0 0}100%{background-position:-480px 0}}
        @keyframes playSprite5{0%{background-position:0% var(--sprite-y)}100%{background-position:100% var(--sprite-y)}}
        @keyframes playSprite4{0%{background-position:0% var(--sprite-y)}100%{background-position:100% var(--sprite-y)}}
        .hit-zone{position:absolute;bottom:8%;left:8%;right:8%;top:52%;border:3px dashed rgba(255,215,0,0.2);border-radius:0;pointer-events:none;z-index:5;display:none}
        .hit-zone.active{display:block;border-color:rgba(76,255,80,0.4);background:rgba(76,255,80,0.05);box-shadow:inset 0 -40% 60px -20px rgba(76,255,80,0.12),0 0 20px rgba(76,255,80,0.08);animation:sweetSpotGlow 1.5s ease-in-out infinite}
        @keyframes sweetSpotGlow{0%,100%{box-shadow:inset 0 -40% 60px -20px rgba(76,255,80,0.12),0 0 20px rgba(76,255,80,0.08)}50%{box-shadow:inset 0 -40% 60px -20px rgba(76,255,80,0.22),0 0 30px rgba(76,255,80,0.15)}}
        .hit-zone-indicators{position:absolute;bottom:8%;left:8%;right:8%;top:52%;pointer-events:none;z-index:4;display:none}
        .hit-zone-indicators.visible{display:block}
        .zone-arrow{position:absolute;font-size:18px;color:rgba(255,255,255,0.15);text-align:center;transition:color 0.3s,transform 0.3s}
        .zone-arrow.left{left:8%;top:50%;transform:translateY(-50%) rotate(-45deg)}
        .zone-arrow.right{right:8%;top:50%;transform:translateY(-50%) rotate(45deg)}
        .zone-arrow.center{left:50%;top:30%;transform:translateX(-50%)}
        .zone-label{position:absolute;font-size:8px;text-transform:uppercase;letter-spacing:1px;color:rgba(255,255,255,0.12);font-weight:700;pointer-events:none}
        .zone-label.lbl-left{left:12%;bottom:20%}
        .zone-label.lbl-right{right:12%;bottom:20%}
        .zone-label.lbl-up{left:50%;top:15%;transform:translateX(-50%)}
        .hit-zone-indicators.active .zone-arrow{color:rgba(76,255,80,0.35);animation:zoneGlow 2s ease-in-out infinite}
        .hit-zone-indicators.active .zone-label{color:rgba(76,255,80,0.25)}
        @keyframes zoneGlow{0%,100%{opacity:0.5}50%{opacity:1}}
        /* Serve timing bar */
        .serve-timing{position:absolute;right:12%;bottom:25%;width:24px;height:180px;display:none;flex-direction:column;align-items:center;z-index:100;pointer-events:none}
        .serve-timing.active{display:flex}
        .serve-timing-track{position:relative;width:24px;height:180px;background:rgba(0,0,0,0.7);border:2px solid rgba(255,255,255,0.3);border-radius:0;overflow:hidden}
        .serve-timing-zone{position:absolute;left:0;right:0}
        .serve-timing-zone.red-top{top:0;height:15%;background:rgba(244,67,54,0.6)}
        .serve-timing-zone.green{top:15%;height:20%;background:rgba(76,175,80,0.6);box-shadow:inset 0 0 10px rgba(76,255,80,0.3)}
        .serve-timing-zone.yellow{top:35%;height:25%;background:rgba(255,193,7,0.5)}
        .serve-timing-zone.red-bottom{top:60%;height:40%;background:rgba(244,67,54,0.4)}
        .serve-timing-cursor{position:absolute;left:-2px;right:-2px;height:4px;background:#fff;border-radius:0;box-shadow:0 0 8px rgba(255,255,255,0.8);transition:none;z-index:2}
        .serve-timing-label{font-size:8px;color:rgba(255,255,255,0.7);margin-top:4px;text-transform:uppercase;letter-spacing:1px}
        /* Serve power meter (pull-back indicator) */
        .serve-power{position:absolute;left:12%;bottom:25%;width:24px;height:180px;display:none;flex-direction:column;align-items:center;z-index:100;pointer-events:none}
        .serve-power.active{display:flex}
        .serve-power-track{position:relative;width:24px;height:180px;background:rgba(0,0,0,0.7);border:2px solid rgba(255,255,255,0.3);border-radius:0;overflow:hidden}
        .serve-power-fill{position:absolute;bottom:0;left:0;right:0;height:0%;background:linear-gradient(to top,#4caf50,#ffd700 60%,#f44336);transition:height 0.05s}
        .serve-power-label{font-size:8px;color:rgba(255,255,255,0.7);margin-top:4px;text-transform:uppercase;letter-spacing:1px}
        /* Serve feedback text */
        .serve-feedback{position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:52px;pointer-events:none;z-index:200;opacity:0;text-shadow:0 4px 20px rgba(0,0,0,0.8)}
        .serve-feedback.active{animation:serveFeedbackPop 0.8s ease-out forwards}
        .serve-feedback.perfect{color:#4caf50}
        .serve-feedback.good{color:#ffc107}
        .serve-feedback.weak{color:#f44336}
        @keyframes serveFeedbackPop{0%{opacity:0;transform:translate(-50%,-50%) scale(0.3)}20%{opacity:1;transform:translate(-50%,-50%) scale(1.3)}40%{transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(-50%,-60%) scale(1)}}
        /* Toss ball (separate element for visual toss above player) */
        .serve-toss-ball{position:absolute;width:20px;height:20px;background:radial-gradient(circle at 30% 30%,#fcf836,#c9d11a);border-radius:50%;transform:translate(-50%,-50%);z-index:41;display:none;pointer-events:none;box-shadow:0 2px 6px rgba(0,0,0,0.5)}
        .serve-toss-ball.active{display:block}
        /* Serve aim indicator */
        .serve-aim{position:absolute;width:30px;height:30px;border:2px solid rgba(255,215,0,0.7);border-radius:50%;transform:translate(-50%,-50%);z-index:45;display:none;pointer-events:none;box-shadow:0 0 8px rgba(255,215,0,0.3)}
        .serve-aim.active{display:block;animation:aimPulse 0.8s ease-in-out infinite}
        .serve-aim-dot{position:absolute;top:50%;left:50%;width:6px;height:6px;background:#ffd700;border-radius:50%;transform:translate(-50%,-50%)}
        @keyframes aimPulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:1}50%{transform:translate(-50%,-50%) scale(1.3);opacity:0.8}}
        /* Serve target line */
        .serve-target-line{position:absolute;width:2px;background:linear-gradient(to top,rgba(255,215,0,0.6),transparent);z-index:44;display:none;pointer-events:none;transform-origin:bottom center}
        .serve-target-line.active{display:block}
        .power-bar{position:absolute;bottom:2%;left:20%;right:20%;height:12px;background:rgba(0,0,0,0.5);border:2px solid rgba(255,215,0,0.5);border-radius:0;overflow:hidden}
        .power-fill{height:100%;width:0%;background:linear-gradient(90deg,#4caf50,#ffd700,#f44336);transition:width 0.15s}
        .hit-effect{position:absolute;width:120px;height:120px;border:4px solid #ffd700;border-radius:50%;opacity:0;pointer-events:none;transform:translate(-50%,-50%) scale(0.5);z-index:200;display:none}
        .hit-effect.active{display:block;animation:hitRipple 0.6s ease-out}
        @keyframes hitRipple{0%{opacity:1;transform:translate(-50%,-50%) scale(0.5)}100%{opacity:0;transform:translate(-50%,-50%) scale(2.5)}}
        /* Gem improvements */
        .gem-drop{position:absolute;width:45px;height:45px;font-size:36px;display:none;transform:translate(-50%,-50%);z-index:150;cursor:pointer;filter:drop-shadow(0 0 6px rgba(231,76,60,0.5))}
        .gem-drop.active{display:block;animation:gemFloat 1.5s ease-in-out infinite}
        .gem-drop.urgent{animation:gemUrgent 0.3s ease-in-out infinite}
        @keyframes gemFloat{0%,100%{transform:translate(-50%,-50%) scale(1) rotate(0deg)}50%{transform:translate(-50%,-60%) scale(1.15) rotate(10deg)}}
        @keyframes gemUrgent{0%,100%{transform:translate(-50%,-50%) scale(1.1);filter:drop-shadow(0 0 20px rgba(255,0,0,0.9))}50%{transform:translate(-50%,-50%) scale(0.9);filter:drop-shadow(0 0 10px rgba(255,0,0,0.5))}}
        /* Gem collect particles */
        .gem-particle{position:absolute;width:8px;height:8px;background:linear-gradient(135deg,#e74c3c,#ff6b6b);border-radius:50%;pointer-events:none;z-index:160}
        @keyframes gemBurst{0%{opacity:1;transform:translate(-50%,-50%) scale(1)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0)}}
        .gem-timer{position:absolute;bottom:-15px;left:50%;transform:translateX(-50%);font-size:10px;font-weight:700;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.8);white-space:nowrap}
        .gem-multiplier{position:absolute;top:-8px;right:-8px;background:linear-gradient(135deg,#ffd700,#ffed4e);color:#1a1a2e;font-size:9px;font-weight:700;padding:2px 5px;border-radius:0}
        .combo-text{position:absolute;font-family:'Bebas Neue',sans-serif;font-size:42px;background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;pointer-events:none;z-index:500}
        @keyframes comboFloat{0%{opacity:1;transform:translate(-50%,-50%) scale(0)}50%{opacity:1;transform:translate(-50%,-80px) scale(1.4)}100%{opacity:0;transform:translate(-50%,-120px) scale(1)}}
        /* Streak indicator */
        .streak-display{position:fixed;bottom:15%;right:10px;background:rgba(0,0,0,0.7);border:2px solid rgba(255,215,0,0.4);border-radius:0;padding:8px 12px;display:none;z-index:100}
        .streak-display.active{display:block}
        .streak-label{font-size:8px;color:rgba(255,215,0,0.8);text-transform:uppercase}
        .streak-value{font-family:'Bebas Neue',sans-serif;font-size:28px;color:#ffd700}
        .streak-bonus{font-size:9px;color:#4caf50}
        .swipe-hint{position:absolute;bottom:35%;left:50%;transform:translateX(-50%);padding:10px 20px;background:rgba(76,255,80,0.7);border-radius:0;color:#fff;font-size:13px;font-weight:700;text-transform:uppercase;opacity:0;pointer-events:none;display:none;text-align:center}
        .swipe-hint.active{display:block;opacity:1;animation:hintPulse 0.8s ease-in-out infinite}
        .swipe-hint.serve{background:rgba(255,215,0,0.8);color:#1a1a2e}
        @keyframes hintPulse{0%,100%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.1)}}
        /* Court change overlay */
        .court-change{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:none;justify-content:center;align-items:center;z-index:500;flex-direction:column;gap:15px}
        .court-change.active{display:flex;animation:fadeInChange 0.5s ease}
        @keyframes fadeInChange{from{opacity:0}to{opacity:1}}
        .court-change-text{font-family:'Bebas Neue',sans-serif;font-size:48px;color:#ffd700;text-align:center}
        .court-change-sub{font-size:14px;color:rgba(255,255,255,0.7);text-transform:uppercase;letter-spacing:3px}
        /* Out/Fault callout */
        .call-overlay{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:64px;color:#f44336;text-shadow:0 4px 20px rgba(0,0,0,0.8);opacity:0;pointer-events:none;z-index:200}
        .call-overlay.active{animation:callPop 0.8s ease-out forwards}
        .call-overlay.in{color:#4caf50}
        @keyframes callPop{0%{opacity:0;transform:translate(-50%,-50%) scale(0.5)}30%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}100%{opacity:0;transform:translate(-50%,-50%) scale(1)}}
        .match-results{background:#000;justify-content:center;align-items:center;padding:20px;z-index:2000}
        .results-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,15vw,64px);margin-bottom:10px}
        .victory{background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .defeat{background:linear-gradient(135deg,#f44336,#e91e63);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .final-score{font-family:'Bebas Neue',sans-serif;font-size:42px;color:#fff;margin-bottom:25px}
        .rewards-container{background:linear-gradient(135deg,rgba(255,215,0,0.1),rgba(255,237,78,0.05));border:2px solid rgba(255,215,0,0.3);border-radius:0;padding:20px;margin-bottom:25px;width:100%;max-width:320px}
        .rewards-title{font-size:13px;text-transform:uppercase;letter-spacing:3px;color:rgba(255,215,0,0.8);margin-bottom:15px;text-align:center}
        .reward-item{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(255,215,0,0.1)}
        .reward-item:last-child{border-bottom:none}
        .reward-label{font-size:13px;color:rgba(255,255,255,0.8);text-transform:uppercase}
        .reward-value{font-family:'Bebas Neue',sans-serif;font-size:28px;background:linear-gradient(135deg,#4caf50,#8bc34a);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .continue-btn{padding:18px 50px;background:linear-gradient(135deg,#ffd700,#ffed4e);border:none;border-radius:0;color:#1a1a2e;font-size:15px;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer}

        /* Trophy Case / Achievements */
        .trophy-screen{background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);padding:12px;overflow-y:auto;z-index:1100;touch-action:pan-y;-webkit-overflow-scrolling:touch}
        .trophy-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:8px 12px;background:linear-gradient(180deg,#4a6a9a 0%,#3a5a8a 50%,#2a4a7a 100%);border:2px solid #6a8aba;border-radius:0;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 2px 4px rgba(0,0,0,0.3)}
        .trophy-title{font-family:'Bebas Neue',sans-serif;font-size:22px;color:#ffd700;text-shadow:2px 2px 0 #000,0 0 10px rgba(255,215,0,0.5);letter-spacing:3px}
        .trophy-grid{display:grid;grid-template-columns:1fr;gap:8px;padding-bottom:20px}
        .trophy-card{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:2px solid;border-color:#5a7a9a #1a2a4a #1a2a4a #5a7a9a;border-radius:0;padding:12px;display:flex;align-items:center;gap:12px;box-shadow:2px 2px 0 rgba(0,0,0,0.3)}
        .trophy-card.unlocked{border-color:#ffd700 #aa8800 #aa8800 #ffd700;background:linear-gradient(180deg,#4a5a7a 0%,#3a4a6a 100%)}
        .trophy-card.locked{opacity:0.5;filter:grayscale(0.6)}
        .trophy-icon{font-size:32px;min-width:40px;text-align:center;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.5))}
        .trophy-card.locked .trophy-icon{filter:grayscale(1) brightness(0.5)}
        .trophy-info{flex:1}
        .trophy-name{font-family:'Bebas Neue',sans-serif;font-size:16px;color:#ffd700;text-shadow:1px 1px 0 #000}
        .trophy-card.locked .trophy-name{color:#666}
        .trophy-desc{font-size:10px;color:#8ac;margin-top:2px}
        .trophy-card.locked .trophy-desc{color:#555}
        .trophy-date{font-size:8px;color:rgba(255,215,0,0.6);margin-top:3px}
        .trophy-progress{font-size:9px;color:#4caf50;font-weight:700;margin-top:2px}
        .achievement-popup{position:fixed;top:-100px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#ffd700,#ffed4e);border:3px solid #aa8800;border-radius:0;padding:12px 20px;display:flex;align-items:center;gap:10px;z-index:5000;transition:top 0.5s cubic-bezier(0.34,1.56,0.64,1);box-shadow:0 8px 30px rgba(255,215,0,0.4)}
        .achievement-popup.show{top:50px}
        .achievement-popup-icon{font-size:28px}
        .achievement-popup-text{color:#1a1a2e}
        .achievement-popup-title{font-family:'Bebas Neue',sans-serif;font-size:16px;letter-spacing:1px}
        .achievement-popup-desc{font-size:10px;opacity:0.7}

        /* Daily Challenge System */
        .challenge-banner{background:linear-gradient(135deg,#9b59b6,#8e44ad);border:2px solid rgba(155,89,182,0.5);border-radius:0;margin:10px 0;padding:12px;color:#fff}
        .challenge-streak-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
        .challenge-streak-badge{display:flex;align-items:center;gap:6px;background:rgba(255,255,255,0.15);padding:4px 10px;border-radius:0;font-size:11px;font-weight:700;color:#ffd700}
        .challenge-streak-badge .streak-fire{font-size:14px;animation:firePulse 1s ease-in-out infinite}
        @keyframes firePulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
        .challenge-streak-days{display:flex;gap:3px;margin-top:6px;margin-bottom:8px}
        .streak-day{width:28px;height:28px;border-radius:0;border:2px solid rgba(255,255,255,0.2);display:flex;align-items:center;justify-content:center;font-size:9px;color:rgba(255,255,255,0.4);font-weight:700}
        .streak-day.completed{border-color:#ffd700;background:rgba(255,215,0,0.3);color:#ffd700}
        .streak-day.today{border-color:#4caf50;box-shadow:0 0 8px rgba(76,175,80,0.5)}
        .streak-day.today.completed{border-color:#ffd700;background:linear-gradient(135deg,#ffd700,#ff9800);color:#1a1a2e}
        .confetti-piece{border-radius:0!important}
        .challenge-title{font-family:'Bebas Neue',sans-serif;font-size:18px;color:#e8d5ff;margin-bottom:5px}
        .challenge-desc{font-size:11px;color:rgba(255,255,255,0.8);margin-bottom:8px}
        .challenge-progress{display:flex;justify-content:space-between;align-items:center}
        .challenge-bar{flex:1;height:6px;background:rgba(0,0,0,0.3);border-radius:0;margin-right:10px;overflow:hidden}
        .challenge-fill{height:100%;background:linear-gradient(90deg,#4caf50,#8bc34a);transition:width 0.3s}
        .challenge-reward{font-size:10px;color:#ffd700;font-weight:700}
        .progress-toast{position:fixed;top:-80px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#ffd700,#ffed4e);padding:12px 25px;border-radius:0;color:#1a1a2e;font-weight:700;z-index:3000;transition:top 0.4s ease}
        .progress-toast.show{top:40px}
        .shop-screen{background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);padding:12px;overflow-y:auto;z-index:1100;touch-action:pan-y;-webkit-overflow-scrolling:touch;overscroll-behavior:contain}
        /* ARCADE STYLE CHARACTER SELECT */
        .char-select{background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);padding:10px 10px 80px;overflow-y:scroll;overflow-x:hidden;z-index:1100;flex-direction:column;position:relative;touch-action:pan-y;-webkit-overflow-scrolling:touch;-ms-overflow-style:none;scrollbar-width:none}
        .char-select::after{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,0.1) 2px,rgba(0,0,0,0.1) 4px);pointer-events:none;z-index:9999}
        .char-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;overflow-y:auto;overflow-x:hidden;touch-action:pan-y;-webkit-overflow-scrolling:touch;flex:1;padding:10px;background:linear-gradient(135deg,#2a3a5a 0%,#1a2a4a 100%);border:3px solid #4a6a9a;box-shadow:inset 0 2px 4px rgba(0,0,0,0.5),0 4px 8px rgba(0,0,0,0.3);max-height:calc(100vh - 280px);min-height:200px}
        .char-select-btn{position:fixed;bottom:15px;left:15px;right:15px;z-index:1101;background:linear-gradient(180deg,#ffd700 0%,#cc9900 50%,#aa7700 100%)!important;border:3px solid!important;border-color:#ffed4e #886600 #886600 #ffed4e!important;color:#000!important;text-shadow:none!important;box-shadow:3px 3px 0 #0a1a2a!important;font-size:16px!important;letter-spacing:3px!important}
        .char-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding:8px 12px;background:linear-gradient(180deg,#4a6a9a 0%,#3a5a8a 50%,#2a4a7a 100%);border:2px solid #6a8aba;border-radius:0;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 2px 4px rgba(0,0,0,0.3)}
        .char-title{font-family:'Bebas Neue',sans-serif;font-size:22px;color:#fff;text-shadow:2px 2px 0 #000,0 0 10px rgba(100,200,255,0.5);letter-spacing:3px}
        .char-card{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 50%,#1a2a4a 100%);border:3px solid;border-color:#6a8aba #2a3a5a #2a3a5a #6a8aba;padding:6px;text-align:center;cursor:pointer;transition:all 0.15s;box-shadow:2px 2px 0 #0a1a2a;min-width:0}
        .char-card:active{transform:translate(1px,1px);box-shadow:1px 1px 0 #0a1a2a}
        .char-card:hover:not(.locked){border-color:#8ab #4a6a9a #4a6a9a #8ab;background:linear-gradient(180deg,#4a5a7a 0%,#3a4a6a 50%,#2a3a5a 100%);transform:translateY(-2px);box-shadow:2px 4px 0 #0a1a2a,0 0 12px rgba(100,180,255,0.15);transition:all 0.15s}
        .char-card:hover:not(.locked) .char-preview{filter:brightness(1.15)}
        .char-card.selected{border-color:#ffd700 #aa8800 #aa8800 #ffd700;background:linear-gradient(180deg,#4a5a7a 0%,#3a4a6a 50%,#2a3a5a 100%);box-shadow:2px 2px 0 #0a1a2a,0 0 8px rgba(255,215,0,0.2)}
        .char-card.locked{opacity:0.6;filter:grayscale(0.5) brightness(0.7)}
        .char-card.locked:hover{opacity:0.75;filter:grayscale(0.3) brightness(0.8)}
        .char-preview{width:80px;height:96px;margin:0 auto 4px;background-size:80px 96px;background-repeat:no-repeat;background-position:center;image-rendering:pixelated;border:2px solid #1a2a4a;background-color:#0a0a1a}
        .char-name{font-size:9px;color:#8ac;font-weight:700;text-transform:uppercase;text-shadow:1px 1px 0 #000;letter-spacing:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
        .char-stats{font-size:8px;color:#6a8aba;margin-top:2px;font-family:monospace}
        .char-stat-bars{margin-top:4px}
        .stat-bar-row{display:flex;align-items:center;gap:2px;margin:2px 0}
        .stat-lbl{font-size:7px;color:#6a8aba;width:8px;text-align:center}
        .stat-bar{flex:1;height:4px;background:#1a2a4a;border-radius:0;overflow:hidden}
        .stat-fill{height:100%;border-radius:0}
        .stat-fill.pwr{background:linear-gradient(90deg,#ff6b6b,#ff4757)}
        .stat-fill.spd{background:linear-gradient(90deg,#4ecdc4,#26de81)}
        .stat-fill.ctl{background:linear-gradient(90deg,#45aaf2,#2d98da)}
        .char-lock{font-size:16px;margin-bottom:3px;filter:drop-shadow(0 0 3px #000)}
        .char-detail{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:3px solid;border-color:#6a8aba #2a3a5a #2a3a5a #6a8aba;border-radius:0;padding:12px;margin-bottom:10px;box-shadow:3px 3px 0 #0a1a2a}
        .char-detail-preview{width:80px;height:96px;margin:0 auto 8px;background-size:80px 96px;background-repeat:no-repeat;background-position:center;image-rendering:pixelated;border:2px solid #1a2a4a;background-color:#0a0a1a}
        .char-detail-preview.animating{animation:charPreview 1.2s steps(7) infinite}
        @keyframes charPreview{0%{background-position:0 0}100%{background-position:-504px 0}}
        .char-detail-name{font-family:'Bebas Neue',sans-serif;font-size:20px;color:#ffd700;text-align:center;text-shadow:2px 2px 0 #000;letter-spacing:2px}
        .char-detail-desc{font-size:10px;color:#8ab;text-align:center;margin-top:4px;font-style:italic;letter-spacing:1px}
        .char-detail-stat-bars{display:flex;flex-direction:column;gap:4px;margin-top:8px;padding:0 10px}
        .char-detail-bar-row{display:flex;align-items:center;gap:6px}
        .char-detail-bar-label{font-size:9px;color:#6a8aba;width:50px;text-transform:uppercase;letter-spacing:1px;text-align:right}
        .char-detail-bar{flex:1;height:8px;background:#1a2a4a;overflow:hidden}
        .char-detail-bar-fill{height:100%;transition:width 0.4s ease-out}
        .char-detail-bar-fill.pwr{background:linear-gradient(90deg,#ff6b6b,#ff4757)}
        .char-detail-bar-fill.spd{background:linear-gradient(90deg,#4ecdc4,#26de81)}
        .char-detail-bar-fill.ctl{background:linear-gradient(90deg,#45aaf2,#2d98da)}
        .char-detail-bar-val{font-size:9px;color:#8cf;width:24px;font-family:'Bebas Neue',sans-serif}
        .char-detail-stats{display:flex;justify-content:center;gap:15px;margin-top:8px}
        .char-stat{text-align:center}
        .char-stat-label{font-size:8px;color:#6a8aba;text-transform:uppercase;letter-spacing:1px}
        .char-stat-value{font-family:'Bebas Neue',sans-serif;font-size:18px;color:#8cf;text-shadow:1px 1px 0 #000}
        .shop-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding:8px 12px;background:linear-gradient(180deg,#4a6a9a 0%,#3a5a8a 50%,#2a4a7a 100%);border:2px solid #6a8aba;border-radius:0;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2),0 2px 4px rgba(0,0,0,0.3)}
        .shop-title{font-family:'Bebas Neue',sans-serif;font-size:22px;color:#fff;text-shadow:2px 2px 0 #000,0 0 10px rgba(100,200,255,0.5);letter-spacing:3px}
        .back-btn{padding:8px 16px;background:linear-gradient(180deg,#5a6a8a 0%,#4a5a7a 50%,#3a4a6a 100%);border:2px solid;border-color:#8a9aba #3a4a6a #3a4a6a #8a9aba;border-radius:0;color:#fff;font-size:10px;font-weight:700;text-transform:uppercase;cursor:pointer;text-shadow:1px 1px 0 #000;box-shadow:2px 2px 0 #0a1a2a}
        .back-btn:active{transform:translate(1px,1px);box-shadow:1px 1px 0 #0a1a2a}
        .shop-tabs{display:flex;gap:4px;margin-bottom:12px;background:linear-gradient(180deg,#2a3a5a 0%,#1a2a4a 100%);padding:6px;border:2px solid #4a6a9a;border-radius:0;flex-wrap:wrap}
        .shop-tab{flex:1;padding:8px 6px;background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:2px solid;border-color:#5a7a9a #1a2a4a #1a2a4a #5a7a9a;border-radius:0;color:#8ac;font-size:9px;font-weight:700;text-transform:uppercase;cursor:pointer;min-width:55px;text-shadow:1px 1px 0 #000}
        .shop-tab.active{background:linear-gradient(180deg,#ffd700 0%,#cc9900 100%);border-color:#ffed4e #886600 #886600 #ffed4e;color:#000;text-shadow:none}
        .shop-items{display:grid;gap:8px;padding-bottom:20px;overflow-y:auto;max-height:calc(100vh - 180px);touch-action:pan-y;-webkit-overflow-scrolling:touch}
        .shop-item{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:2px solid;border-color:#5a7a9a #1a2a4a #1a2a4a #5a7a9a;border-radius:0;padding:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:2px 2px 0 rgba(0,0,0,0.3)}
        .shop-item.owned{border-color:#4caf50 #2a6a2a #2a6a2a #4caf50}
        .item-info{flex:1;max-width:55%}
        .item-name{font-size:12px;font-weight:700;color:#ffd700;margin-bottom:2px;text-shadow:1px 1px 0 #000}
        .item-desc{font-size:9px;color:#8ac;margin-bottom:4px}
        .item-stats{display:flex;gap:6px;flex-wrap:wrap}
        .item-stat{font-size:8px;color:#4caf50;font-weight:600;background:rgba(76,175,80,0.2);padding:2px 5px;border-radius:0}
        .item-purchase{display:flex;flex-direction:column;align-items:center;gap:6px}
        .price-tag{display:flex;align-items:center;gap:5px;padding:5px 8px;background:rgba(0,0,0,0.4);border-radius:0;font-family:'Bebas Neue',sans-serif;font-size:18px;color:#fff}
        .buy-btn{padding:7px 14px;background:linear-gradient(135deg,#4caf50,#8bc34a);border:none;border-radius:0;color:#fff;font-size:9px;font-weight:700;text-transform:uppercase;cursor:pointer}
        .buy-btn:disabled{background:#555;opacity:0.5}
        .equip-btn{padding:7px 14px;background:linear-gradient(135deg,#2196f3,#03a9f4);border:none;border-radius:0;color:#fff;font-size:9px;font-weight:700;text-transform:uppercase;cursor:pointer}

        /* === VS INTRO SCREEN === */
        .vs-intro{position:fixed;inset:0;background:#000;z-index:6000;display:none;justify-content:center;align-items:center;overflow:hidden}
        .vs-intro.active{display:flex}
        .vs-intro-bg{position:absolute;inset:0;background:linear-gradient(135deg,#1a0a2e,#0a1a3e);overflow:hidden}
        .vs-intro-bg::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(45deg,transparent,transparent 40px,rgba(255,215,0,0.03) 40px,rgba(255,215,0,0.03) 80px)}
        .vs-player{position:absolute;top:50%;width:40%;display:flex;flex-direction:column;align-items:center;transform:translateY(-50%)}
        .vs-player.left{left:5%;animation:vsSlideLeft 0.6s cubic-bezier(0.34,1.56,0.64,1) forwards}
        .vs-player.right{right:5%;animation:vsSlideRight 0.6s cubic-bezier(0.34,1.56,0.64,1) forwards}
        @keyframes vsSlideLeft{0%{opacity:0;transform:translateY(-50%) translateX(-100%)}100%{opacity:1;transform:translateY(-50%) translateX(0)}}
        @keyframes vsSlideRight{0%{opacity:0;transform:translateY(-50%) translateX(100%)}100%{opacity:1;transform:translateY(-50%) translateX(0)}}
        .vs-sprite{width:80px;height:96px;image-rendering:pixelated;background-size:80px 96px;background-repeat:no-repeat;background-position:center;margin-bottom:10px;filter:drop-shadow(0 0 15px rgba(255,215,0,0.3))}
        .vs-name{font-family:'Bebas Neue',sans-serif;font-size:clamp(18px,5vw,28px);color:#ffd700;text-shadow:2px 2px 0 #000;letter-spacing:2px;text-align:center}
        .vs-nationality{font-size:10px;color:rgba(255,255,255,0.6);text-transform:uppercase;letter-spacing:2px;margin-top:4px;text-align:center}
        .vs-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);font-family:'Bebas Neue',sans-serif;font-size:clamp(48px,15vw,80px);color:#fff;text-shadow:0 0 30px rgba(255,215,0,0.5),0 0 60px rgba(255,215,0,0.3);z-index:1;animation:vsPop 0.5s 0.4s cubic-bezier(0.34,1.56,0.64,1) forwards}
        @keyframes vsPop{0%{transform:translate(-50%,-50%) scale(0) rotate(-10deg)}100%{transform:translate(-50%,-50%) scale(1) rotate(0deg)}}
        .vs-court-label{position:absolute;bottom:15%;left:50%;transform:translateX(-50%);font-family:'Bebas Neue',sans-serif;font-size:18px;color:rgba(255,255,255,0.5);letter-spacing:4px;text-transform:uppercase;animation:vsFadeIn 0.5s 0.8s both}
        @keyframes vsFadeIn{0%{opacity:0}100%{opacity:1}}

        /* === MATCH POINT DRAMA === */
        .match-point-banner{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-family:'Bebas Neue',sans-serif;font-size:clamp(36px,10vw,56px);color:#f44336;text-shadow:0 0 30px rgba(244,67,54,0.6);z-index:300;opacity:0;pointer-events:none}
        .match-point-banner.active{animation:matchPointPop 1.5s ease-out forwards}
        @keyframes matchPointPop{0%{opacity:0;transform:translate(-50%,-50%) scale(0.5)}15%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}30%{transform:translate(-50%,-50%) scale(1)}80%{opacity:1}100%{opacity:0;transform:translate(-50%,-55%) scale(1)}}
        .game-court.slow-motion{transition:none !important}
        .game-court.slow-motion .ball,.game-court.slow-motion .opponent,.game-court.slow-motion .player-paddle{transition-duration:0.05s !important}
        .game-court.match-point-zoom{transform:scale(1.04) !important;transition:transform 1s ease !important}

        /* === TROPHY ROOM (tournaments) === */
        .trophy-room-entry{background:linear-gradient(180deg,#3a4a6a 0%,#2a3a5a 100%);border:2px solid;border-color:#ffd700 #aa8800 #aa8800 #ffd700;padding:14px;margin-bottom:8px;display:flex;align-items:center;gap:14px;box-shadow:2px 2px 0 rgba(0,0,0,0.3)}
        .trophy-room-icon{font-family:'Bebas Neue',sans-serif;font-size:36px;color:#ffd700;min-width:44px;text-align:center;text-shadow:0 0 10px rgba(255,215,0,0.4)}
        .trophy-room-info{flex:1}
        .trophy-room-title{font-family:'Bebas Neue',sans-serif;font-size:16px;color:#ffd700;letter-spacing:1px}
        .trophy-room-detail{font-size:10px;color:#8ac;margin-top:3px}
        .trophy-room-date{font-size:9px;color:rgba(255,215,0,0.5);margin-top:2px}

        /* === VICTORY/DEFEAT POSES === */
        .victory-pose-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:1900;display:none;justify-content:center;align-items:center;flex-direction:column;gap:15px}
        .victory-pose-overlay.active{display:flex}
        .victory-pose-sprite{width:80px;height:96px;image-rendering:pixelated;background-size:80px 96px;background-repeat:no-repeat;margin-bottom:10px;filter:drop-shadow(0 0 20px rgba(255,215,0,0.5))}
        .victory-pose-text{font-family:'Bebas Neue',sans-serif;font-size:clamp(14px,4vw,20px);color:#ffd700;text-align:center;letter-spacing:2px;max-width:300px;text-shadow:2px 2px 0 #000}
        .defeat-pose-text{font-family:'Bebas Neue',sans-serif;font-size:clamp(14px,4vw,20px);color:#f44336;text-align:center;letter-spacing:2px;max-width:300px;text-shadow:2px 2px 0 #000}

        /* === COURT SURFACES === */
        .game-court.court-clay{background:linear-gradient(180deg,#c4722a 0%,#a85d1f 30%,#d4803a 60%,#b86b28 100%) !important;background-image:none !important}
        .game-court.court-grass{background:linear-gradient(180deg,#2d7a2d 0%,#1e6b1e 30%,#3a8a3a 60%,#2a7a2a 100%) !important;background-image:none !important}
        .game-court.court-hard{background:linear-gradient(180deg,#1a4a8a 0%,#143a6a 30%,#1e5a9a 60%,#164a7a 100%) !important;background-image:none !important}

        /* === REPLAY SYSTEM === */
        .replay-overlay{position:fixed;top:10px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);border:2px solid rgba(255,215,0,0.4);padding:6px 18px;z-index:400;display:none;align-items:center;gap:8px;font-family:'Bebas Neue',sans-serif;color:#ffd700;font-size:16px;letter-spacing:2px}
        .replay-overlay.active{display:flex}
        .replay-slow{font-size:12px;color:rgba(255,255,255,0.6);letter-spacing:1px}
        .equipped-badge{padding:7px 14px;background:linear-gradient(135deg,#ffd700,#ffed4e);border:none;border-radius:0;color:#1a1a2e;font-size:9px;font-weight:700;text-transform:uppercase}
        .tutorial-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.92);display:none;justify-content:center;align-items:center;z-index:3000;padding:20px}
        .tutorial-overlay.active{display:flex}
        .tutorial-content{background:#000;border:2px solid rgba(187,134,252,0.4);border-radius:0;padding:25px;max-width:360px;text-align:center}
        .tutorial-title{font-family:'Bebas Neue',sans-serif;font-size:32px;background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:15px}
        .tutorial-text{color:rgba(255,255,255,0.8);font-size:13px;line-height:1.5;margin-bottom:20px}
        .tutorial-btn{padding:14px 35px;background:linear-gradient(135deg,#4caf50,#8bc34a);border:none;border-radius:0;color:#fff;font-size:13px;font-weight:700;letter-spacing:1px;text-transform:uppercase;cursor:pointer}

/* Player movement dust */
        .move-dust{position:absolute;pointer-events:none;z-index:29;opacity:0.6}
        /* Impact spark lines */
        .spark-line{position:absolute;width:2px;pointer-events:none;z-index:201;transform-origin:center bottom}
        /* Serve zoom effect */
        .game-court.serve-zoom{transition:transform 0.4s cubic-bezier(0.25,0.46,0.45,0.94);transform:scale(1.03) translateY(1%)}
        .game-court.serve-zoom-out{transition:transform 0.3s ease-out;transform:scale(1) translateY(0)}
/* Accessibility: focus indicators */
:focus-visible {
    outline: 2px solid #ffd700;
    outline-offset: 2px;
}
:focus:not(:focus-visible) {
    outline: none;
}
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Enhanced performance optimizations */
.performance-mode .particle-effect,
.performance-mode .ball-trail,
.performance-mode .screen-shake-container {
    display: none !important;
}

.performance-mode .court-animation,
.performance-mode .screen-shake,
.performance-mode .sprite-inner {
    animation: none !important;
    transition: none !important;
}

.performance-mode .player-sprite,
.performance-mode .opponent {
    transform: none !important;
    transition: none !important;
}

.low-performance .complex-gradient {
    background: #1a1a2e !important;
}

.low-performance .text-shadow,
.low-performance .box-shadow,
.low-performance .filter {
    text-shadow: none !important;
    box-shadow: none !important;
    filter: none !important;
}

.low-performance * {
    transition-duration: 0.01ms !important;
}

</style>
    <script defer src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
    <a href="#gameCourt" class="skip-to-content" style="position:absolute;left:-9999px;top:0;z-index:9999;padding:12px 20px;background:#ffd700;color:#1a1a2e;font-weight:700;font-size:14px;text-decoration:none" onfocus="this.style.left='0'" onblur="this.style.left='-9999px'">Skip to game</a>
    <div class="screen loading-screen active" id="loadingScreen">
        <h1 class="lcp-title">CENTRE COURT</h1>
        <div style="display:flex;flex-direction:column;align-items:center;margin-top:-60px;">
            <div class="hero-image">
                <img src="hero_player.webp" alt="Tennis player character" class="hero-player">
                <img src="hero_player.webp" alt="" role="presentation" class="hero-ball">
            </div>
            <div class="loading-content" id="loadingContent">
                <div class="loading-logo">CENTRE COURT</div>
                <div class="loading-subtitle">Championship Edition</div>
                <button class="play-button" onclick="startGame()" aria-label="Start the game">PLAY NOW</button>
            </div>
        </div>
    </div>
    <div class="screen main-menu" id="mainMenu">
        <div><h1 class="game-logo">CENTRE COURT</h1><p class="tagline">Championship Edition</p></div>
        <div class="player-card">
            <div class="player-level">
                <div class="level-badge">NTRP <span id="playerNTRP">2.5</span></div>
                <div class="currency-display">
                    <div class="currency-item"><div class="currency-icon coins">C</div><div class="currency-amount" id="coinAmount">500</div></div>
                    <div class="currency-item"><div class="currency-icon gems">G</div><div class="currency-amount" id="gemAmount">20</div></div>
                </div>
            </div>
            <div class="skill-progress">
                <div class="skill-label">Skill Points: <span id="skillPoints">0</span> / <span id="skillNeeded">300</span></div>
                <div class="skill-bar"><div class="skill-fill" id="skillFill"></div></div>
            </div>
            <div class="stats-grid">
                <div class="stat-item"><div class="stat-label">Power</div><div class="stat-value" id="statPower">10</div></div>
                <div class="stat-item"><div class="stat-label">Speed</div><div class="stat-value" id="statSpeed">10</div></div>
                <div class="stat-item"><div class="stat-label">Control</div><div class="stat-value" id="statControl">10</div></div>
                <div class="stat-item"><div class="stat-label">Serve</div><div class="stat-value" id="statServe">10</div></div>
            </div>
        </div>
        <div class="difficulty-section">
            <div class="difficulty-title">Select Difficulty</div>
            <div class="difficulty-buttons">
                <button class="difficulty-btn diff-rookie selected" onclick="selectDifficulty('rookie')">Rookie<span class="difficulty-reward">1x Rewards</span></button>
                <button class="difficulty-btn diff-pro" onclick="selectDifficulty('pro')">Pro<span class="difficulty-reward">2x Rewards</span></button>
                <button class="difficulty-btn diff-legend" onclick="selectDifficulty('legend')">Legend<span class="difficulty-reward">3x Rewards</span></button>
            </div>
        </div>
        <div class="difficulty-section">
            <div class="difficulty-title">Match Length</div>
            <div class="difficulty-buttons">
                <button class="difficulty-btn selected" onclick="selectMatchType('quick')" id="matchQuick">Quick<span class="difficulty-reward">First to 3 Games</span></button>
                <button class="difficulty-btn" onclick="selectMatchType('standard')" id="matchStandard">Standard<span class="difficulty-reward">1 Set (First to 6)</span></button>
                <button class="difficulty-btn" onclick="selectMatchType('timed')" id="matchTimed">Timed<span class="difficulty-reward">5 Minute Match</span></button>
            </div>
        </div>
        <!-- Daily Challenge -->
        <div class="challenge-banner" id="dailyChallenge">
            <div class="challenge-streak-row">
                <div class="challenge-title" id="challengeTitle" style="margin-bottom:0">Daily Challenge: Ace Master</div>
                <div class="challenge-streak-badge" id="streakBadge"><span class="streak-fire" style="color:#ff6b00;font-weight:900;font-family:Bebas Neue;font-size:16px">X</span><span id="streakCount">0</span> Day Streak</div>
            </div>
            <div class="challenge-streak-days" id="streakDays"></div>
            <div class="challenge-desc" id="challengeDesc">Score 3 aces in a single match</div>
            <div class="challenge-progress">
                <div class="challenge-bar"><div class="challenge-fill" id="challengeFill" style="width:0%"></div></div>
                <div class="challenge-reward" id="challengeReward">+100 coins +2 gems</div>
            </div>
        </div>

        <div class="menu-buttons">
            <button class="menu-btn primary" onclick="startMatch()" aria-label="Play a quick match">QUICK MATCH</button>
            <button class="menu-btn tournament-btn" onclick="showTournamentScreen()" aria-label="Enter tournament mode" style="background:linear-gradient(180deg,#ffd700 0%,#b8860b 50%,#8b6914 100%);border-color:#ffed4e #6b4e00 #6b4e00 #ffed4e;color:#000;text-shadow:none">TOURNAMENT</button>
            <button class="menu-btn" onclick="startPracticeMode()" aria-label="Practice mode">PRACTICE</button>
            <button class="menu-btn" onclick="showCharSelect()" aria-label="Select your player character">SELECT PLAYER</button>
            <button class="menu-btn" onclick="showShop()" aria-label="Open the pro shop">PRO SHOP</button>
            <button class="menu-btn" onclick="showTrophyCase()" aria-label="View your trophy case">TROPHY CASE</button>
            <button class="menu-btn" onclick="showSettingsScreen()" aria-label="Settings">SETTINGS</button>
            <button class="menu-btn" onclick="showTutorial()" aria-label="Learn how to play">HOW TO PLAY</button>
        </div>
    </div>
    <div class="screen shop-screen" id="shopScreen">
        <div class="shop-header"><h2 class="shop-title">PRO SHOP</h2><button class="back-btn" onclick="closeShop()" style="margin-right:40px">BACK</button></div>
        <div class="shop-tabs">
            <button class="shop-tab active" onclick="switchTab('training',this)">Training</button>
            <button class="shop-tab" onclick="switchTab('serve',this)">Serve</button>
            <button class="shop-tab" onclick="switchTab('rackets',this)">Rackets</button>
            <button class="shop-tab" onclick="switchTab('shoes',this)">Shoes</button>
            <button class="shop-tab" onclick="switchTab('special',this)">Special</button>
        </div>
        <div class="shop-items" id="shopItems"></div>
    </div>
    <div class="screen char-select" id="charSelect">
        <div class="char-header"><h2 class="char-title">SELECT PLAYER</h2><button class="back-btn" onclick="closeCharSelect()" style="margin-right:40px">BACK</button></div>
        <div class="char-detail" id="charDetail">
            <div class="char-detail-preview" id="charDetailPreview"></div>
            <div class="char-detail-name" id="charDetailName">ROGER FEDORA</div>
            <div class="char-detail-desc" id="charDetailDesc">All-rounder with balanced game</div>
            <div class="char-detail-stat-bars">
                <div class="char-detail-bar-row"><span class="char-detail-bar-label">Power</span><div class="char-detail-bar"><div class="char-detail-bar-fill pwr" id="charBarPower" style="width:50%"></div></div><span class="char-detail-bar-val" id="charPower">50</span></div>
                <div class="char-detail-bar-row"><span class="char-detail-bar-label">Speed</span><div class="char-detail-bar"><div class="char-detail-bar-fill spd" id="charBarSpeed" style="width:50%"></div></div><span class="char-detail-bar-val" id="charSpeed">50</span></div>
                <div class="char-detail-bar-row"><span class="char-detail-bar-label">Control</span><div class="char-detail-bar"><div class="char-detail-bar-fill ctl" id="charBarControl" style="width:50%"></div></div><span class="char-detail-bar-val" id="charControl">50</span></div>
            </div>
            <div class="char-detail-stats" style="display:none">
                <div class="char-stat"><div class="char-stat-label">Power</div><div class="char-stat-value">50</div></div>
                <div class="char-stat"><div class="char-stat-label">Speed</div><div class="char-stat-value">50</div></div>
                <div class="char-stat"><div class="char-stat-label">Control</div><div class="char-stat-value">50</div></div>
            </div>
        </div>
        <div class="char-grid" id="charGrid"></div>
        <button class="menu-btn primary char-select-btn" onclick="confirmCharacter()">SELECT</button>
    </div>
    <!-- Trophy Case -->
    <div class="screen trophy-screen" id="trophyScreen">
        <div class="trophy-header"><h2 class="trophy-title">TROPHY CASE</h2><button class="back-btn" onclick="closeTrophyCase()" style="margin-right:40px">BACK</button></div>
        <div class="trophy-grid" id="trophyGrid"></div>
    </div>
    <!-- Achievement popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-popup-icon" id="achievementPopupIcon" style="font-weight:900;color:#ffd700;font-family:Bebas Neue">T</div>
        <div class="achievement-popup-text">
            <div class="achievement-popup-title" id="achievementPopupTitle">Achievement Unlocked!</div>
            <div class="achievement-popup-desc" id="achievementPopupDesc">Description</div>
        </div>
    </div>
    <div class="video-intro" id="videoIntro">
        <div id="videoPlayer"></div>
        <button class="skip-btn" onclick="transitionToCourt()" aria-label="Skip intro video">SKIP</button>
    </div>
    <button id="pauseBtn" onclick="pauseMatch()" aria-label="Pause match" style="position:fixed;top:calc(12px + env(safe-area-inset-top,0px));right:54px;z-index:9000;width:36px;height:36px;background:rgba(0,0,0,0.6);border:2px solid rgba(255,215,0,0.4);display:none;align-items:center;justify-content:center;cursor:pointer;padding:0;font-family:'Bebas Neue',sans-serif;font-size:16px;color:#ffd700">II</button>
    <button id="muteBtn" onclick="AudioManager.toggleMute()" aria-label="Toggle audio mute" style="position:fixed;top:calc(12px + env(safe-area-inset-top,0px));right:12px;z-index:9000;width:36px;height:36px;background:rgba(0,0,0,0.6);border:2px solid rgba(255,215,0,0.4);display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffd700" stroke-width="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg></button>
    <div class="game-hud" id="gameHUD">
        <div class="match-info">
            <div class="player-info">
                <div class="player-name">YOU</div>
                <div class="player-points" id="playerPoints">0</div>
                <div class="player-games">Games: <span id="playerGames">0</span></div>
                <div class="player-sets" id="playerSets"></div>
            </div>
            <div class="match-center">
                <div class="match-timer" id="matchTimer">2:00</div>
                <div class="rally-counter">Rally: <span id="rallyCount">0</span></div>
                <div class="serve-indicator" id="serveIndicator">1ST SERVE</div>
                <div class="serve-speed" id="serveSpeed"></div>
                <div class="tiebreak-indicator" id="tiebreakIndicator"></div>
            </div>
            <div class="player-info">
                <div class="player-name">CPU</div>
                <div class="player-points" id="opponentPoints">0</div>
                <div class="player-games">Games: <span id="opponentGames">0</span></div>
                <div class="player-sets" id="opponentSets"></div>
            </div>
        </div>
    </div>
    <!-- Pause overlay -->
    <div id="pauseOverlay" style="position:fixed;inset:0;background:rgba(0,0,0,0.85);display:none;justify-content:center;align-items:center;z-index:2500;flex-direction:column;gap:20px">
        <div style="font-family:'Bebas Neue',sans-serif;font-size:64px;color:#ffd700;letter-spacing:6px">PAUSED</div>
        <button onclick="resumeMatch()" style="padding:14px 50px;background:linear-gradient(180deg,#4caf50,#388e3c);border:3px solid;border-color:#66bb6a #2e7d32 #2e7d32 #66bb6a;color:#fff;font-size:15px;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer;text-shadow:1px 1px 2px #000;box-shadow:3px 3px 0 rgba(0,0,0,0.4)">RESUME</button>
        <button onclick="forfeitMatch()" style="padding:14px 50px;background:linear-gradient(180deg,#f44336,#c62828);border:3px solid;border-color:#ef5350 #b71c1c #b71c1c #ef5350;color:#fff;font-size:15px;font-weight:700;letter-spacing:2px;text-transform:uppercase;cursor:pointer;text-shadow:1px 1px 2px #000;box-shadow:3px 3px 0 rgba(0,0,0,0.4)">FORFEIT</button>
    </div>
    <div class="rally-vignette" id="rallyVignette"></div>
    <div class="game-court" id="gameCourt">
        <div class="court">
            <div class="court-lines">
                <div class="line sideline-left"></div><div class="line sideline-right"></div>
                <div class="line baseline-top"></div><div class="line baseline-bottom"></div>
                <div class="line service-top"></div><div class="line service-bottom"></div>
                <div class="line center-service"></div><div class="line net"></div>
                <div class="net-cord" id="netCord"></div>
            </div>
            <!-- Service boxes -->
            <div class="service-box opp-right" id="serviceBoxOppRight"></div>
            <div class="service-box opp-left" id="serviceBoxOppLeft"></div>
            <div class="service-box player-right" id="serviceBoxPlayerRight"></div>
            <div class="service-box player-left" id="serviceBoxPlayerLeft"></div>
            <div class="hit-zone" id="hitZone"></div>
            <div class="hit-zone-indicators" id="hitZoneIndicators">
                <div class="zone-arrow left"></div>
                <div class="zone-arrow center"></div>
                <div class="zone-arrow right"></div>
                <div class="zone-label lbl-left">LEFT</div>
                <div class="zone-label lbl-up">POWER</div>
                <div class="zone-label lbl-right">RIGHT</div>
            </div>
            <div class="opponent" id="opponent">
                <div class="player-sprite opponent-sprite">
                    <div class="sprite-inner" id="opponentSprite"></div>
                </div>
            </div>
            <div class="player-paddle" id="playerPaddle">
                <div class="player-sprite player-sprite-active near">
                    <div class="sprite-inner" id="playerSprite"></div>
                </div>
            </div>
            <div class="ball-shadow" id="ballShadow"></div>
            <div class="ball" id="ball"></div>
            <!-- Serve aim indicator -->
            <div class="serve-aim" id="serveAim"><div class="serve-aim-dot"></div></div>
            <div class="serve-target-line" id="serveTargetLine"></div>
            <div class="swipe-hint" id="swipeHint">SWIPE UP!</div>
            <div class="net-rush-indicator" id="netRushIndicator">AT NET</div>
            <!-- Serve timing bar (right side) -->
            <div class="serve-timing" id="serveTiming">
                <div class="serve-timing-track">
                    <div class="serve-timing-zone red-top"></div>
                    <div class="serve-timing-zone green"></div>
                    <div class="serve-timing-zone yellow"></div>
                    <div class="serve-timing-zone red-bottom"></div>
                    <div class="serve-timing-cursor" id="serveTimingCursor"></div>
                </div>
                <div class="serve-timing-label">TIMING</div>
            </div>
            <!-- Serve power bar (left side) -->
            <div class="serve-power" id="servePower">
                <div class="serve-power-track">
                    <div class="serve-power-fill" id="servePowerFill"></div>
                </div>
                <div class="serve-power-label">POWER</div>
            </div>
            <!-- Serve feedback text -->
            <div class="serve-feedback" id="serveFeedback"></div>
            <!-- Toss ball visual -->
            <div class="serve-toss-ball" id="serveTossBall"></div>
            <div class="power-bar"><div class="power-fill" id="powerFill"></div></div>
            <div class="hit-effect" id="hitEffect"></div>
            <div class="gem-drop" id="gemDrop" style="font-weight:900;color:#e74c3c;font-family:Bebas Neue;font-size:24px">GEM<div class="gem-timer" id="gemTimer"></div><div class="gem-multiplier" id="gemMultiplier">x1</div></div>
            <div class="call-overlay" id="callOverlay">OUT</div>
        </div>
    </div>
    <!-- Court change overlay -->
    <div class="court-change" id="courtChange">
        <div class="court-change-text" id="courtChangeText">CHANGEOVER</div>
        <div class="court-change-sub" id="courtChangeSub">Switching sides</div>
    </div>
    <!-- Streak display -->
    <div class="streak-display" id="streakDisplay">
        <div class="streak-label">STREAK</div>
        <div class="streak-value" id="streakValue">0</div>
        <div class="streak-bonus" id="streakBonus">+0% gems</div>
    </div>
    <div class="screen match-results" id="matchResults">
        <h2 class="results-title" id="resultsTitle">VICTORY</h2>
        <div class="final-score" id="finalScore">7 - 3</div>
        <div class="rewards-container">
            <div class="rewards-title">Match Rewards</div>
            <div class="reward-item"><span class="reward-label">Coins</span><span class="reward-value" id="coinsEarned">+50</span></div>
            <div class="reward-item"><span class="reward-label">Skill Points</span><span class="reward-value" id="skillGained">+100</span></div>
            <div class="reward-item"><span class="reward-label">Gems</span><span class="reward-value" id="gemsEarned">+0</span></div>
        </div>
        <div class="rewards-container" style="margin-top:-10px">
            <div class="rewards-title">Match Statistics</div>
            <div class="reward-item"><span class="reward-label">Aces</span><span class="reward-value" id="acesCount">0</span></div>
            <div class="reward-item"><span class="reward-label">Winners</span><span class="reward-value" id="winnersCount">0</span></div>
            <div class="reward-item"><span class="reward-label">Double Faults</span><span class="reward-value" id="doubleFaultsCount">0</span></div>
            <div class="reward-item"><span class="reward-label">Best Streak</span><span class="reward-value" id="bestStreakCount">0</span></div>
        </div>
        <div class="rewards-container" style="margin-top:-10px">
            <div class="rewards-title">Rally Analysis</div>
            <div class="reward-item"><span class="reward-label">Longest Rally</span><span class="reward-value" id="longestRally">0</span></div>
            <div class="reward-item"><span class="reward-label">Avg Rally</span><span class="reward-value" id="avgRally">0</span></div>
            <div class="reward-item"><span class="reward-label">Total Points</span><span class="reward-value" id="totalPoints">0</span></div>
            <div class="reward-item"><span class="reward-label">Match Time</span><span class="reward-value" id="matchDuration">0:00</span></div>
        </div>
        <button class="continue-btn" onclick="returnToMenu()" aria-label="Return to main menu">CONTINUE</button>
    </div>
    <div class="tutorial-overlay" id="tutorialOverlay">
        <div class="tutorial-content">
            <h2 class="tutorial-title">HOW TO PLAY</h2>
            <p class="tutorial-text">
                <strong>SERVING:</strong><br>
                PULL DOWN to toss &amp; charge power. A timing bar shows the ball rising  RELEASE at the green sweet spot for a PERFECT serve! Your horizontal finger position controls aim. Serves must land cross-court in the opposite service box.<br><br>
                <strong>RETURNING:</strong><br>
                Watch for the GREEN GLOW  SWIPE UP to return! Longer/faster swipes = more power. Angle your swipe left or right to aim your shot.<br><br>
                <strong>NET RUSH:</strong><br>
                DOUBLE-TAP during a rally to rush the net for volleys! Faster shots but less court coverage. Not allowed during serves  only after the ball is in play. Auto-retreats after a few seconds.<br><br>
                <strong>RULES:</strong><br>
                 Serves go cross-court (diagonally)<br>
                 Deuce side (even points)  left box<br>
                 Ad side (odd points)  right box<br>
                 Ball must bounce in the service box<br>
                 Two faults = double fault (point lost!)<br><br>
                <strong>GEMS:</strong><br>
                Collect gems before they disappear! Build streaks for bonus gems!
            </p>
            <button class="tutorial-btn" onclick="closeTutorial()" aria-label="Close tutorial">GOT IT!</button>
        </div>
    </div>
    <div class="progress-toast" id="progressToast"></div>

    <!-- VS Intro Screen -->
    <div class="vs-intro" id="vsIntro">
        <div class="vs-intro-bg"></div>
        <div class="vs-player left" id="vsPlayerLeft">
            <div class="vs-sprite" id="vsPlayerSprite"></div>
            <div class="vs-name" id="vsPlayerName">PLAYER</div>
            <div class="vs-nationality" id="vsPlayerNat"></div>
        </div>
        <div class="vs-text">VS</div>
        <div class="vs-player right" id="vsPlayerRight">
            <div class="vs-sprite" id="vsOppSprite"></div>
            <div class="vs-name" id="vsOppName">OPPONENT</div>
            <div class="vs-nationality" id="vsOppNat"></div>
        </div>
        <div class="vs-court-label" id="vsCourtLabel">HARD COURT</div>
    </div>

    <!-- Match Point Banner -->
    <div class="match-point-banner" id="matchPointBanner">MATCH POINT</div>

    <!-- Victory/Defeat Pose Overlay -->
    <div class="victory-pose-overlay" id="victoryPoseOverlay">
        <div class="victory-pose-sprite" id="victoryPoseSprite"></div>
        <div class="victory-pose-text" id="victoryPoseText"></div>
    </div>

    <!-- Replay Overlay -->
    <div class="replay-overlay" id="replayOverlay">REPLAY <span class="replay-slow">SLOW MOTION</span></div>

    <!-- Tournament Screen -->
    <div class="screen tournament-screen" id="tournamentScreen" style="background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);padding:calc(15px + env(safe-area-inset-top,0px)) 15px calc(15px + env(safe-area-inset-bottom,0px));overflow-y:auto">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:15px">
            <h2 style="font-family:'Bebas Neue',sans-serif;font-size:32px;color:#ffd700;letter-spacing:4px">TOURNAMENT</h2>
            <button class="back-btn" onclick="closeTournamentScreen()">BACK</button>
        </div>
        <div id="tournamentBracket" style="flex:1"></div>
        <div id="tournamentActions" style="margin-top:15px"></div>
    </div>

    <!-- Settings Screen -->
    <div class="screen settings-screen" id="settingsScreen" style="background:linear-gradient(180deg,#1a1a2e 0%,#0d0d1a 100%);padding:calc(15px + env(safe-area-inset-top,0px)) 15px calc(15px + env(safe-area-inset-bottom,0px));overflow-y:auto">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
            <h2 style="font-family:'Bebas Neue',sans-serif;font-size:32px;color:#ffd700;letter-spacing:4px">SETTINGS</h2>
            <button class="back-btn" onclick="closeSettingsScreen()">BACK</button>
        </div>
        <div id="settingsContent"></div>
    </div>

    <!-- Practice Mode HUD overlay -->
    <div id="practiceHUD" style="position:fixed;top:calc(60px + env(safe-area-inset-top,0px));left:10px;z-index:200;display:none;flex-direction:column;gap:6px">
        <div style="background:rgba(0,0,0,0.7);padding:8px 14px;border:1px solid rgba(255,215,0,0.3);color:#ffd700;font-family:'Bebas Neue',sans-serif;font-size:18px;letter-spacing:2px">PRACTICE MODE</div>
        <div style="background:rgba(0,0,0,0.7);padding:6px 14px;border:1px solid rgba(255,255,255,0.15);color:#fff;font-size:11px">Balls Hit: <span id="practiceHits" style="color:#4caf50;font-weight:700">0</span></div>
        <button onclick="exitPracticeMode()" style="padding:8px 14px;background:rgba(244,67,54,0.8);border:2px solid #f44336;color:#fff;font-size:11px;font-weight:700;cursor:pointer;text-transform:uppercase;letter-spacing:1px">EXIT PRACTICE</button>
    </div>

<script defer src="game.js"></script>

</body>
</html>
<!-- v7 Refinement: Serving, Tennis Rules, Gems, Polish - Sat Feb 7 2026 -->
